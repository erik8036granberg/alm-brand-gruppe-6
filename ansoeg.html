<!DOCTYPE html>
<html lang="da">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="UNG+ forbrugslån er den fornuftige løsning hos Alm. Brand. Er du mellem 18 og 32 år, får du en god rente, professionel rådgivning og et budget der passer til din økonomi">
	<title>Video-portfolio</title>
	<link rel="stylesheet" href="style.css">

	<!--------- Fonte --------->
	<link href="https://fonts.googleapis.com/css?family=Source+Serif+Pro|Work+Sans" rel="stylesheet">


</head>

<!--
-------------------------- HTML Body --------------------------
-->

<body class="grid">

	<header>

		<div class="bluebox">
			<h1> Ansøg om UNG+ lån </h1>
			<p>
				Her kan du nemt og hurtigt ansøge online.
			</p>
		</div>
		<div class="ansoeg-billede"></div>

		<a class="button2" href="videoportfolio.html">Video Portfolio</a>

		<!--	baggrund til header  -->
		<div class="header-baggrund"></div>

	</header>

	<nav>

		<a href="index.html"><img src="images/alm_brand_logo.png" alt="Alm. Brand logo"></a>

		<!--        <button class="button1">Ansøg</button>-->

		<a class="button1" href="ansoeg.html">Ansøg</a>


	</nav>

	<main>

		<p> 1. Dine oplysninger | 2. Din økonomi | 3. Dit lånebehov | 4. Bekræft</p>

		<h1>Dine oplysninger</h1>

		<p>
			CPR-nummer
		</p>
		<p>
			fx. 090493-2257
		</p>
		<hr>

		<p>
			Fornavn
		</p>

		<p>
			fx. Jensen
		</p>
		<hr>




	</main>


	<footer class="footer-grid">
		<div class="content">Alm. Brand Kampange, KEA-MMD, gruppe 6</div>
	</footer>

	<!--	baggrund til infografik  -->
	<div class="info-grafik-baggrund"></div>

	<script>
		document.addEventListener("DOMContentLoaded", function() {
			runProgram();
		});


		async function runProgram() {

			let selected;
			let selectedID;
			let color;
			let active;
			let infoboks;

			// 1. Load svg map
			//------------------------------------------------------------------------------------

			let mySvg = await fetch("infografik_alm_brand.svg");
			console.log(mySvg);

			//tolk svg som text
			let svg = await mySvg.text();
			console.log(svg);

			//vis svg'en ved indsætte den i div'en
			document.querySelector("#infografik").innerHTML = svg;


			// 2. find infobokse og link og skjul dem
			//------------------------------------------------------------------------------

			let info_1 = document.querySelector("#infografik #infoboks-1");
			let info_2 = document.querySelector("#infografik #infoboks-2");
			let info_3 = document.querySelector("#infografik #infoboks-3");
			let info_4 = document.querySelector("#infografik #infoboks-4");
			let info_5 = document.querySelector("#infografik #infoboks-5");
			let link_1 = document.querySelector("#infografik #link-1");

			info_1.style.visibility = "hidden";
			info_2.style.visibility = "hidden";
			info_3.style.visibility = "hidden";
			info_4.style.visibility = "hidden";
			info_5.style.visibility = "hidden";
			link_1.style.visibility = "hidden";


			// 3. Skift farve ved klik, og vis infoboks
			//-----------------------------------------------------------------------

			document.querySelector("#infografik #dots").addEventListener("click", clicked);


			//function clicked
			//--------------------------------------------------------------------

			function clicked() {
				if (infoboks != undefined) {
					infoboks.style.visibility = "hidden";
				}

				// a. find det klikkede element
				//----------------------------------------------

				selected = event.target;

				// b. find det klikkede elementets ID
				//---------------------------------------------

				selectedID = selected.getAttribute("id");
				console.log(selectedID);


				// c. find  det klikkede elements fillfarve
				//---------------------------------------------

				color = selected.getAttribute("fill");
				console.log(color);

				// d. vis infobokse
				//--------------------------------------------

				if (selectedID === "dot-1") {
					info_1.style.visibility = "visible";
					infoboks = info_1;
					link_1.style.visibility = "visible";
				}
				if (selectedID === "dot-2") {
					info_2.style.visibility = "visible";
					infoboks = info_2;
					link_1.style.visibility = "hidden";
				}
				if (selectedID === "dot-3") {
					info_3.style.visibility = "visible";
					infoboks = info_3;
					link_1.style.visibility = "hidden";
				}
				if (selectedID === "dot-4") {
					info_4.style.visibility = "visible";
					infoboks = info_4;
					link_1.style.visibility = "hidden";
				}
				if (selectedID === "dot-5") {
					info_5.style.visibility = "visible";
					infoboks = info_5;
					link_1.style.visibility = "hidden";
				}



				// 4. hvis der tidligere har været klikket skal det forige element skifte farve til original
				//------------------------------------------------------------------------------------


				if (active != undefined) {
					active.setAttribute("fill", color);

				}



				//gør det klikkede til det aktive
				//-------------------------------------------------------------------------

				active = selected;


				//skift farve på det valgte
				//-------------------------------------------------------------------------


				if (color === "#cce4e8") {
					document.querySelector("#" + selectedID).setAttribute("fill", "#e51147");
				}

				//reset farve og skjul tekst + link hvis valgt elementet allerede er aktivt
				//------------------------------------------------------------------------
				else {
					document.querySelector("#" + selectedID).setAttribute("fill", "#cce4e8");
					infoboks.style.visibility = "hidden";
					link_1.style.visibility = "hidden";
				}

				//tilføj eventlistener til link, så det kan klikkes på

				document.querySelector("#infografik #link-1").addEventListener("click", () => {
					console.log("link til formular");
				})

			}
		};
	</script>

	<script>
		//		Variabler
		let belob;
		let varighed;
		const rente = 0.07;

		//		eventlisteners for slidere
		document.querySelector("#belob_slider").addEventListener("input", VisBelob);
		document.querySelector("#varighed_slider").addEventListener("input", visVarighed);



		function VisBelob() {

			console.log("VisBelob: " + this.value);

			belob = parseInt(this.value);

			//		vis det valgte beløb ved slideren
			document.querySelector(".vis_belob").textContent = belob;

			//		Gå til udregning hvis der er valgt beløb og varighed
			if (belob != undefined && varighed != undefined) {
				visUdregning();
			}

		}

		function visVarighed() {

			console.log("visVarighed: " + this.value);

			varighed = parseInt(this.value);

			//		vis det antal måneder ved slideren
			document.querySelector(".vis_varighed").textContent = varighed;

			//		Gå til udregning hvis der er valgt beløb og varighed
			if (belob != undefined && varighed != undefined) {
				visUdregning();
			}

		}

		function visUdregning() {
			console.log("visUdregning kører");

			//			Udregn rente
			let rentebelob = belob * rente;

			//			Læg rente til beløbet
			let rentesum = belob + rentebelob;

			//			Udregn afdrag pr måned
			let udregning = rentesum / varighed;

			//			Afrund til hele kroner
			let afrunding = Math.round(udregning);

			//			Vis udregning
			document.querySelector(".vis_udregning").textContent = afrunding;
		}



		//		function tusindPunktum(x) {
		//			alert("tusindPunktum");
		//			x = x.toString();
		//			var pattern = /(-?\d+)(\d{3})/;
		//			while (pattern.test(x))
		//				x = x.replace(pattern, "$1.$2");
		//			return x;
		//		}
	</script>

</body>

</html>
